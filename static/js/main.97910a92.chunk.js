(this["webpackJsonphw-07-phonebook-redux"]=this["webpackJsonphw-07-phonebook-redux"]||[]).push([[0],{33:function(t,e,n){t.exports=n(61)},40:function(t,e,n){},61:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),r=n(7),o=n.n(r),s=n(11),i=n(12),u=n(15),l=n(14),m=function(t){return c.a.createElement("div",{className:"filter"},c.a.createElement("p",{className:"filter__title"},"Find contacts by name"),c.a.createElement("input",{className:"filter__input",id:"filter",onChange:t.filterChange,value:t.filterVal}))},f=n(2),d=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(s.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={name:"",number:""},t.handleChange=function(e){t.setState(Object(f.a)({},e.target.id,e.target.value))},t.handleSubmit=function(e){e.preventDefault(),t.props.formSubmit(t.state),t.setState({name:"",number:""})},t}return Object(i.a)(n,[{key:"render",value:function(){return c.a.createElement("form",{className:"form",onSubmit:this.handleSubmit},c.a.createElement("label",{className:"form__name"},"Name",c.a.createElement("input",{className:"form__name--input",id:"name",onChange:this.handleChange,type:"text",value:this.state.name})),c.a.createElement("label",{className:"form__number"},"Number",c.a.createElement("input",{className:"form__number--input",id:"number",onChange:this.handleChange,type:"text",value:this.state.number})),c.a.createElement("button",{className:"form__submit"},"Add contact"))}}]),n}(c.a.Component),b=n(63),h=n(62),p=function(t){var e=t.contactId,n=t.name,a=t.number,r=t.remove;return c.a.createElement("li",{className:"contact-list__item"},c.a.createElement("div",{className:"contact-list__item--cont"},c.a.createElement("span",{className:"contact-list__item--span"},n),c.a.createElement("span",{className:"contact-list__item--span"},a)),c.a.createElement("button",{className:"contact-list__remove",onClick:function(){r(e)}}))},v=function(t){return Object(a.useEffect)((function(){localStorage.setItem("react-hw-3",JSON.stringify(t.contacts))}),[t.contacts]),c.a.createElement(b.a,{component:"ul",className:"contact-list"},""===t.filter?t.contacts.map((function(e){return c.a.createElement(h.a,{key:e.id,timeout:250,classNames:"contact-list__item"},c.a.createElement(p,{contactId:e.id,name:e.name,number:e.number,remove:t.remove}))})):t.contacts.filter((function(e){return e.name.toLowerCase().includes(t.filter.toLowerCase())})).map((function(e){return c.a.createElement(h.a,{key:e.id,timeout:250,classNames:"contact-list__item"},c.a.createElement(p,{key:e.id,contactId:e.id,name:e.name,number:e.number,remove:t.remove}))})))},g=function(t){var e=t.isShown,n=t.info;return c.a.createElement(h.a,{timeout:250,classNames:"alert",in:e,style:{display:e?"block":"none"}},c.a.createElement("div",{className:"alert"},n))};function C(){return c.a.createElement("div",null,"Loading contacts...")}var E,O,j=function(t){return t.isMounted},y=function(t){return t.contacts},_=function(t){return t.filter},S=function(t){return t.isAlertShown},N=function(t){return t.alertMessage},A=function(t){return t.isLoading},M=(n(40),n(1)),k={fetchContactsRequest:Object(M.b)("fetchContacts/request"),fetchContactsSuccess:Object(M.b)("fetchContacts/success"),fetchContactsError:Object(M.b)("fetchContacts/error"),addContactRequest:Object(M.b)("addContact/request"),addContactSuccess:Object(M.b)("addContact/success"),addContactError:Object(M.b)("addContact/error"),removeContactRequest:Object(M.b)("removeContact/request"),removeContactSuccess:Object(M.b)("removeContact/success"),removeContactError:Object(M.b)("removeContact/error"),filter:Object(M.b)("FILTER",(function(t){return{payload:{value:t}}})),toggleMounted:Object(M.b)("TOGGLE_MOUNTED",(function(t){return{payload:{value:t}}})),toggleAlertVisibility:Object(M.b)("TOGGLE_ALERT_VISIBILITY",(function(t){return{payload:{value:t}}})),toggleAlertMessage:Object(M.b)("TOGGLE_ALERT_MESSAGE",(function(t){return{payload:{value:t}}}))},w=n(16),L=n.n(w),q=function(){return function(t){t(k.fetchContactsRequest()),L.a.get("http://localhost:2001/contacts").then((function(e){t(k.fetchContactsSuccess(e.data))})).catch((function(e){return t(k.fetchContactsError(e))}))}},I=function(t){return function(e){e(k.addContactRequest()),L.a.post("http://localhost:2001/contacts",t).then((function(t){return e(k.addContactSuccess(t.data))})).catch((function(t){return e(k.addContactError(t))}))}},R=function(t){return function(e){e(k.removeContactRequest()),L.a.delete("http://localhost:2001/contacts/".concat(t)).then((function(n){return e(k.removeContactSuccess(t))})).catch((function(t){return e(k.removeContactError(t))}))}},T=n(13),V=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(s.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).handleSubmit=function(e){var n=e.name,a=e.number;""!==n.trim()&&""!==a.trim()?t.props.contacts.find((function(t){return t.name===n}))?t.handleAlert("You already have "+n):t.props.onFormSubmit(n,a):t.handleAlert("Name and number must be provided.")},t}return Object(i.a)(n,[{key:"handleAlert",value:function(t){var e=this;this.props.handleAlertChange(t),this.props.handleAlertVisibility(!0),setTimeout((function(){e.props.handleAlertVisibility(!1)}),3e3)}},{key:"componentDidMount",value:function(){this.props.loadContacts(),this.props.toggleMounted(!0)}},{key:"render",value:function(){return c.a.createElement("div",{className:"phonebook"},c.a.createElement(h.a,{in:this.props.isMounted,timeout:500,classNames:"title",mountOnEnter:!0},c.a.createElement("h2",{className:"title"},"Phonebook")),c.a.createElement(d,{formSubmit:this.handleSubmit}),this.props.contacts.length>1?c.a.createElement(m,{filterChange:this.props.handleFilter,filterVal:this.props.filter}):null,this.props.isLoading&&c.a.createElement(C,null),c.a.createElement(v,{filter:this.props.filter,contacts:this.props.contacts,remove:this.props.removeContact}),c.a.createElement(g,{isShown:this.props.isAlertShown,info:this.props.alertMessage}))}}]),n}(c.a.Component),G=Object(T.b)((function(t){return{isMounted:j(t),contacts:y(t),filter:_(t),isAlertShown:S(t),alertMessage:N(t),isLoading:A(t)}}),(function(t){return{onFormSubmit:function(e,n){return t(I({name:e,number:n}))},removeContact:function(e){return t(R(e))},toggleMounted:function(e){return t(k.toggleMounted(e))},handleFilter:function(e){return t(k.filter(e.target.value))},handleAlertChange:function(e){return t(k.toggleAlertMessage(e))},handleAlertVisibility:function(e){return t(k.toggleAlertVisibility(e))},loadContacts:function(){return t(q())}}}))(V),F=n(6),x=n(31),D=Object(M.c)([],(E={},Object(f.a)(E,k.fetchContactsSuccess,(function(t,e){return e.payload})),Object(f.a)(E,k.addContactSuccess,(function(t,e){return[].concat(Object(x.a)(t),[e.payload])})),Object(f.a)(E,k.removeContactSuccess,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),E)),J=Object(M.c)(!1,(O={},Object(f.a)(O,k.fetchContactsRequest,(function(){return!0})),Object(f.a)(O,k.fetchContactsSuccess,(function(){return!1})),Object(f.a)(O,k.fetchContactsError,(function(){return!1})),O)),B=Object(M.c)("",Object(f.a)({},k.filter,(function(t,e){return e.payload.value}))),Y=Object(M.c)(!1,Object(f.a)({},k.toggleMounted,(function(t,e){return e.payload.value}))),P=Object(M.c)(!1,Object(f.a)({},k.toggleAlertVisibility,(function(t,e){return e.payload.value}))),U=Object(M.c)("",Object(f.a)({},k.toggleAlertMessage,(function(t,e){return e.payload.value}))),z=Object(F.c)({contacts:D,filter:B,isMounted:Y,isAlertShown:P,alertMessage:U,isLoading:J}),H=Object(M.a)({reducer:z});o.a.render(c.a.createElement(T.a,{store:H},c.a.createElement(G,null)),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.97910a92.chunk.js.map