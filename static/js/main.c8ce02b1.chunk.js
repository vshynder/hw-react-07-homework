(this["webpackJsonphw-07-phonebook-redux"]=this["webpackJsonphw-07-phonebook-redux"]||[]).push([[0],{33:function(t,e,n){t.exports=n(61)},40:function(t,e,n){},61:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),r=n(7),o=n.n(r),s=n(11),i=n(12),l=n(15),u=n(14),m=function(t){return c.a.createElement("div",{className:"filter"},c.a.createElement("p",{className:"filter__title"},"Find contacts by name"),c.a.createElement("input",{className:"filter__input",id:"filter",onChange:t.filterChange,value:t.filterVal}))},f=n(2),d=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(s.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={name:"",number:""},t.handleChange=function(e){t.setState(Object(f.a)({},e.target.id,e.target.value))},t.handleSubmit=function(e){e.preventDefault(),t.props.formSubmit(t.state),t.setState({name:"",number:""})},t}return Object(i.a)(n,[{key:"render",value:function(){return c.a.createElement("form",{className:"form",onSubmit:this.handleSubmit},c.a.createElement("label",{className:"form__name"},"Name",c.a.createElement("input",{className:"form__name--input",id:"name",onChange:this.handleChange,type:"text",value:this.state.name})),c.a.createElement("label",{className:"form__number"},"Number",c.a.createElement("input",{className:"form__number--input",id:"number",onChange:this.handleChange,type:"text",value:this.state.number})),c.a.createElement("button",{className:"form__submit"},"Add contact"))}}]),n}(c.a.Component),b=n(63),h=n(62),p=function(t){var e=t.contactId,n=t.name,a=t.number,r=t.remove;return c.a.createElement("li",{className:"contact-list__item"},c.a.createElement("div",{className:"contact-list__item--cont"},c.a.createElement("span",{className:"contact-list__item--span"},n),c.a.createElement("span",{className:"contact-list__item--span"},a)),c.a.createElement("button",{className:"contact-list__remove",onClick:function(){r(e)}}))},v=function(t){return Object(a.useEffect)((function(){localStorage.setItem("react-hw-3",JSON.stringify(t.contacts))}),[t.contacts]),c.a.createElement(b.a,{component:"ul",className:"contact-list"},""===t.filter?t.contacts.map((function(e){return c.a.createElement(h.a,{key:e.id,timeout:250,classNames:"contact-list__item"},c.a.createElement(p,{contactId:e.id,name:e.name,number:e.number,remove:t.remove}))})):t.contacts.filter((function(e){return e.name.toLowerCase().includes(t.filter.toLowerCase())})).map((function(e){return c.a.createElement(h.a,{key:e.id,timeout:250,classNames:"contact-list__item"},c.a.createElement(p,{key:e.id,contactId:e.id,name:e.name,number:e.number,remove:t.remove}))})))},g=function(t){var e=t.isShown,n=t.info;return c.a.createElement(h.a,{timeout:250,classNames:"alert",in:e,style:{display:e?"block":"none"}},c.a.createElement("div",{className:"alert"},n))};function C(){return c.a.createElement("div",null,"Loading contacts...")}n(40);var E,O,j=n(1),y={fetchContactsRequest:Object(j.b)("fetchContacts/request"),fetchContactsSuccess:Object(j.b)("fetchContacts/success"),fetchContactsError:Object(j.b)("fetchContacts/error"),addContactRequest:Object(j.b)("addContact/request"),addContactSuccess:Object(j.b)("addContact/success"),addContactError:Object(j.b)("addContact/error"),removeContactRequest:Object(j.b)("removeContact/request"),removeContactSuccess:Object(j.b)("removeContact/success"),removeContactError:Object(j.b)("removeContact/error"),filter:Object(j.b)("FILTER",(function(t){return{payload:{value:t}}})),toggleMounted:Object(j.b)("TOGGLE_MOUNTED",(function(t){return{payload:{value:t}}})),toggleAlertVisibility:Object(j.b)("TOGGLE_ALERT_VISIBILITY",(function(t){return{payload:{value:t}}})),toggleAlertMessage:Object(j.b)("TOGGLE_ALERT_MESSAGE",(function(t){return{payload:{value:t}}}))},_=n(16),S=n.n(_),N=function(){return function(t){t(y.fetchContactsRequest()),S.a.get("http://localhost:2001/contacts").then((function(e){t(y.fetchContactsSuccess(e.data))})).catch((function(e){return t(y.fetchContactsError(e))}))}},A=function(t){return function(e){e(y.addContactRequest()),S.a.post("http://localhost:2001/contacts",t).then((function(t){return e(y.addContactSuccess(t.data))})).catch((function(t){return e(y.addContactError(t))}))}},M=function(t){return function(e){e(y.removeContactRequest()),S.a.delete("http://localhost:2001/contacts/".concat(t)).then((function(n){return e(y.removeContactSuccess(t))})).catch((function(t){return e(y.removeContactError(t))}))}},k=n(13),w=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(s.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).handleSubmit=function(e){var n=e.name,a=e.number;""!==n.trim()&&""!==a.trim()?t.props.contacts.find((function(t){return t.name===n}))?t.handleAlert("You already have "+n):t.props.onFormSubmit(n,a):t.handleAlert("Name and number must be provided.")},t}return Object(i.a)(n,[{key:"handleAlert",value:function(t){var e=this;this.props.handleAlertChange(t),this.props.handleAlertVisibility(!0),setTimeout((function(){e.props.handleAlertVisibility(!1)}),3e3)}},{key:"componentDidMount",value:function(){this.props.loadContacts(),this.props.toggleMounted(!0)}},{key:"render",value:function(){return c.a.createElement("div",{className:"phonebook"},c.a.createElement(h.a,{in:this.props.isMounted,timeout:500,classNames:"title",mountOnEnter:!0},c.a.createElement("h2",{className:"title"},"Phonebook")),c.a.createElement(d,{formSubmit:this.handleSubmit}),this.props.contacts.length>1?c.a.createElement(m,{filterChange:this.props.handleFilter,filterVal:this.props.filter}):null,this.props.isLoading&&c.a.createElement(C,null),c.a.createElement(v,{filter:this.props.filter,contacts:this.props.contacts,remove:this.props.removeContact}),c.a.createElement(g,{isShown:this.props.isAlertShown,info:this.props.alertMessage}))}}]),n}(c.a.Component),L=Object(k.b)((function(t){return{isMounted:t.isMounted,contacts:t.contacts,filter:t.filter,isAlertShown:t.isAlertShown,alertMessage:t.alertMessage,isLoading:t.isLoading}}),(function(t){return{onFormSubmit:function(e,n){return t(A({name:e,number:n}))},removeContact:function(e){return t(M(e))},toggleMounted:function(e){return t(y.toggleMounted(e))},handleFilter:function(e){return t(y.filter(e.target.value))},handleAlertChange:function(e){return t(y.toggleAlertMessage(e))},handleAlertVisibility:function(e){return t(y.toggleAlertVisibility(e))},loadContacts:function(){return t(N())}}}))(w),q=n(6),I=n(31),R=Object(j.c)([],(E={},Object(f.a)(E,y.fetchContactsSuccess,(function(t,e){return e.payload})),Object(f.a)(E,y.addContactSuccess,(function(t,e){return[].concat(Object(I.a)(t),[e.payload])})),Object(f.a)(E,y.removeContactSuccess,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),E)),T=Object(j.c)(!1,(O={},Object(f.a)(O,y.fetchContactsRequest,(function(){return!0})),Object(f.a)(O,y.fetchContactsSuccess,(function(){return!1})),Object(f.a)(O,y.fetchContactsError,(function(){return!1})),O)),V=Object(j.c)("",Object(f.a)({},y.filter,(function(t,e){return e.payload.value}))),G=Object(j.c)(!1,Object(f.a)({},y.toggleMounted,(function(t,e){return e.payload.value}))),F=Object(j.c)(!1,Object(f.a)({},y.toggleAlertVisibility,(function(t,e){return e.payload.value}))),x=Object(j.c)("",Object(f.a)({},y.toggleAlertMessage,(function(t,e){return e.payload.value}))),D=Object(q.c)({contacts:R,filter:V,isMounted:G,isAlertShown:F,alertMessage:x,isLoading:T}),J=Object(j.a)({reducer:D});o.a.render(c.a.createElement(k.a,{store:J},c.a.createElement(L,null)),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.c8ce02b1.chunk.js.map